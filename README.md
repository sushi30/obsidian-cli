Forked from https://github.com/Yakitrak/obsidian-cli/tree/f923c415cdea494bebc4e9a5b2d5561fdb566ed1

# Obsidian CLI

---

## ![obsidian-cli Usage](./docs/usage.png)

## Description

Obsidian is a powerful and extensible knowledge base application
that works on top of your local folder of plain text notes. This CLI tool (written in Go) will let you interact with the application using the terminal. You are currently able to open, search, list, move, create, update and delete notes.

---

## Install

### Windows

You will need to have [Scoop](https://scoop.sh/) installed. On powershell run:

```
scoop bucket add scoop-yakitrak https://github.com/yakitrak/scoop-yakitrak.git
```

```
scoop install obsidian-cli
```

### Mac and Linux

You will need to have [Homebrew](https://brew.sh/) installed.

```Bash
brew tap yakitrak/yakitrak
```

```Bash
brew install yakitrak/yakitrak/obsidian-cli
```

## Usage

### Help

```bash
# See All command instructions
obsidian-cli --help
```

### Editor Flag

The `search`, `search-content`, `create`, and `move` commands support the `--editor` (or `-e`) flag, which opens notes in your default text editor instead of the Obsidian application. This is useful for quick edits or when working in a terminal-only environment.

The editor is determined by the `EDITOR` environment variable. If not set, it defaults to `vim`.

**Supported editors:**

- Terminal editors: vim, nano, emacs, etc.
- GUI editors with wait flag: VSCode (`code`), Sublime Text (`subl`), Atom, TextMate
  - The CLI automatically adds the `--wait` flag for supported GUI editors to ensure they block until you close the file

**Example:**

```bash
# Set your preferred editor (add to ~/.zshrc or ~/.bashrc to make permanent)
export EDITOR="code"  # or "vim", "nano", "subl", etc.

# Use with supported commands
obsidian-cli search --editor
obsidian-cli search-content "term" --editor
obsidian-cli create "note.md" --open --editor
obsidian-cli move "old.md" "new.md" --open --editor
```

### Set Default Vault

Defines default vault for future usage. If not set, pass `--vault` flag for other commands. You don't provide the path to vault here, just the name.

```bash
obsidian-cli set-default "{vault-name}"
```

Note: `open` and other commands in `obsidian-cli` use this vault's base directory as the working directory, not the current working directory of your terminal.

### Print Default Vault

Prints default vault and path. Please set this with `set-default` command if not set.

```bash
# print the default vault name and path
obsidian-cli print-default

# print only the vault path
obsidian-cli print-default --path-only
```

You can add this to your shell configuration file (like `~/.zshrc`) to quickly navigate to the default vault:

```bash
obs_cd() {
    local result=$(obsidian-cli print-default --path-only)
    [ -n "$result" ] && cd -- "$result"
}
```

Then you can use `obs_cd` to navigate to the default vault directory within your terminal.

### Open Note

Open given note name in Obsidian. Note can also be an absolute path from top level of vault.

Use `@daily` as the note name to open today's daily note.

```bash
# Opens note in obsidian vault
obsidian-cli open "{note-name}"

# Opens today's daily note
obsidian-cli open @daily

# Opens note in specified obsidian vault
obsidian-cli open "{note-name}" --vault "{vault-name}"

# Opens note at a specific heading (case-sensitive)
obsidian-cli open "{note-name}" --section "{heading-text}"

obsidian-cli open "{note-name}" --vault "{vault-name}" --section "{heading-text}"
```

### Daily Note

Open daily note in Obsidian. It will create one (using template) if one does not exist.

```bash
# Creates / opens daily note in obsidian vault
obsidian-cli daily

# Creates / opens daily note in specified obsidian vault
obsidian-cli daily --vault "{vault-name}"

```

### Search Note

Starts a fuzzy search displaying notes in the terminal from the vault. You can hit enter on a note to open that in Obsidian.

```bash
# Searches in default obsidian vault
obsidian-cli search

# Searches in specified obsidian vault
obsidian-cli search --vault "{vault-name}"

# Searches and opens selected note in your default editor
obsidian-cli search --editor

```

### Search Note Content

Searches for notes containing search term in the content of notes. It will display a list of matching notes with the line number and a snippet of the matching line. You can hit enter on a note to open that in Obsidian.

```bash
# Searches for content in default obsidian vault
obsidian-cli search-content "search term"

# Searches for content in specified obsidian vault
obsidian-cli search-content "search term" --vault "{vault-name}"

# Searches and opens selected note in your default editor
obsidian-cli search-content "search term" --editor

```

### List Vault Contents

Lists files and folders in a vault path. If no path is provided, it lists the vault root. Supports glob patterns with `*` (single directory) and `**` (recursive).

```bash
# Lists vault root
obsidian-cli list

# Lists contents of a subfolder in default vault
obsidian-cli list "001 Notes"

# Lists contents of a subfolder in specified vault
obsidian-cli list "001 Notes" --vault "{vault-name}"

# Display full vault paths
obsidian-cli list --full-path

# List all markdown files in vault root
obsidian-cli list "*.md"

# List all markdown files recursively
obsidian-cli list "**/*.md"

# Combine with --full-path for scripting
obsidian-cli list "**/*.md" --full-path

```

### Print Note

Prints the contents of given note name or path in Obsidian.

```bash
# Prints note in default vault
obsidian-cli print "{note-name}"

# Prints note by path in default vault
obsidian-cli print "{note-path}"

# Prints note in specified obsidian
obsidian-cli print "{note-name}" --vault "{vault-name}"

```

### Create / Update Note

Creates note (can also be a path with name) in vault. By default, if the note exists, it will create another note but passing `--overwrite` or `--append` can be used to edit the named note. Content can be provided via the `--content` flag or piped through stdin.

```bash
# Creates empty note in default obsidian and opens it
obsidian-cli create "{note-name}"

# Creates empty note in given obsidian and opens it
obsidian-cli create "{note-name}"  --vault "{vault-name}"

# Creates note in default obsidian with content
obsidian-cli create "{note-name}" --content "abcde"

# Creates note in default obsidian with content - overwrite existing note
obsidian-cli create "{note-name}" --content "abcde" --overwrite

# Creates note in default obsidian with content - append existing note
obsidian-cli create "{note-name}" --content "abcde" --append

# Creates note and opens it
obsidian-cli create "{note-name}" --content "abcde" --open

# Creates note and opens it in your default editor
obsidian-cli create "{note-name}" --content "abcde" --open --editor

# Creates note from stdin (piped content)
echo "Hello World" | obsidian-cli create "{note-name}"

# Pipe file contents into a note
cat document.txt | obsidian-cli create "{note-name}"

# Pipe command output into a note
git log --oneline -10 | obsidian-cli create "git-log.md"

# Combine with other tools
curl -s https://example.com/api | jq '.data' | obsidian-cli create "api-response.md"

```

### Move / Rename Note

Moves a given note(path from top level of vault) with new name given (top level of vault). If given same path but different name then its treated as a rename. All links inside vault are updated to match new name.

```bash
# Renames a note in default obsidian
obsidian-cli move "{current-note-path}" "{new-note-path}"

# Renames a note and given obsidian
obsidian-cli move "{current-note-path}" "{new-note-path}" --vault "{vault-name}"

# Renames a note in default obsidian and opens it
obsidian-cli move "{current-note-path}" "{new-note-path}" --open

# Renames a note and opens it in your default editor
obsidian-cli move "{current-note-path}" "{new-note-path}" --open --editor
```

### Delete Note

Deletes a given note (path from top level of vault).

```bash
# Renames a note in default obsidian
obsidian-cli delete "{note-path}"

# Renames a note in given obsidian
obsidian-cli delete "{note-path}" --vault "{vault-name}"
```

### Frontmatter

View and modify YAML frontmatter in notes. Alias: `fm`

```bash
# Print frontmatter of a note
obsidian-cli frontmatter "{note-name}" --print

# Edit a frontmatter field (creates field if it doesn't exist)
obsidian-cli frontmatter "{note-name}" --edit --key "status" --value "done"

# Delete a frontmatter field
obsidian-cli frontmatter "{note-name}" --delete --key "draft"

# Use with a specific vault
obsidian-cli frontmatter "{note-name}" --print --vault "{vault-name}"
```

### Recipes

Shell pipelines combining obsidian-cli commands with standard Unix tools.

#### In-place Text Replacement

Replace text in a note using `sed`:

```bash
# Replace first occurrence of "old" with "new"
obsidian-cli create "note.md" --overwrite --content "$(obsidian-cli print "note.md" | sed 's/old/new/')"

# Replace all occurrences (global)
obsidian-cli create "note.md" --overwrite --content "$(obsidian-cli print "note.md" | sed 's/old/new/g')"

# Use regex patterns
obsidian-cli create "note.md" --overwrite --content "$(obsidian-cli print "note.md" | sed -E 's/[0-9]+/NUMBER/g')"
```

## Contribution

Fork the project, add your feature or fix and submit a pull request. You can also open an [issue](https://github.com/yakitrak/obsidian-cli/issues/new/choose) to report a bug or request a feature.

## License

Available under [MIT License](./LICENSE)
